<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mapper.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="hello.mall.dao.MenuDao" >

    <resultMap id="BaseResultMap" type="hello.mall.Model.Menu" >
        <id column="id" property="id" jdbcType="VARCHAR" />
        <!--左边对应表的字段名，右边对应类属性名，可以都不存在，但是如果左边匹配了，右边一定要匹配-->
        <result column="name" property="name" jdbcType="VARCHAR" />
        <result column="pid" property="pid" jdbcType="VARCHAR" />
        <result column="link" property="link" jdbcType="VARCHAR" />
    </resultMap>

    <select id="selectAllFMenu" resultMap="BaseResultMap"  >
        SELECT
        id,name,pid,link
        FROM MENU
        WHERE pid is NULL and  id is not NULL
    </select>
    
    <select id="selectSMenu" resultMap="BaseResultMap" >
      SELECT * FROM MENU WHERE
        <if test="id!=null">
            pid=#{id}
        </if>
    </select>

</mapper>
